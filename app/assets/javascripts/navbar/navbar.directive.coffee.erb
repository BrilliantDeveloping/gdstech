angular.module "skeleton"
  .directive 'navbar', ->

    NavbarController = ($auth) ->
      vm = this
      vm.neutral = [
        {
          link: 'Posts'
          state: 'posts'
          order: 1
        }
      ]

      # For users signed in
      vm.authorized = [
        {
          link: 'SomeLink'
          state: 'main'
          icon: 'format-list-bulleted'
          order: 2
        }
        {
          link: 'Logout'
          state: 'logout'
          icon: 'sign-in'
          order: 3
        }
      ]
      # For users not signed in
      vm.unauthorized = [
        {
          link: 'Login'
          state: 'login'
          order: 2
        }
        {
          link: 'Register'
          state: 'register'
          order: 3
        }
      ]
      return

    directive =
      restrict: 'E'
      templateUrl: "<%= asset_path 'navbar/navbar.html' %>"
      controller: NavbarController
      controllerAs: 'vm'
      bindToController: true
